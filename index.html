<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>¬°Una Carta para Ti! ‚ù§Ô∏è</title>
    <style>
        @font-face {
            font-family: 'Simonetta';
            src: url('Simonetta-BlackItalic.ttf') format('truetype');
        }

        body {
            margin: 0;
            height: 100vh;
            background: linear-gradient(to right, #ffafbd, #ffc3a0);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            position: relative;
        }

        #envelope-wrapper {
            perspective: 1000px;
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
            transition: transform 1s ease-in-out;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            border-radius: 8px;
            z-index: 20;
        }

        #envelope {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1s ease-in-out;
        }

        .envelope-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            background-color: #f7e1e6;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5em;
            color: #e91e63;
            font-weight: bold;
            transition: opacity 1s ease-in-out;
        }

        .envelope-front {
            transform: rotateY(0deg);
        }

        .envelope-back {
            transform: rotateY(180deg);
        }

        #letter {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 109.375vw;
            max-width: 937.5px;
            height: auto;
            max-height: 95vh;
            transform: translate(-50%, -50%) scale(0.1);
            opacity: 0;
            transition: transform 1s ease-in-out, opacity 1s ease-in-out;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 25px;
            box-sizing: border-box;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            border: 3px solid #f06292;
            box-shadow: 0 0 0 8px #ffc1e3;
        }

        #letter > * {
            transform: rotateY(180deg);
        }
        
        #letter p {
            font-family: 'Simonetta', serif;
            color: #333;
            font-size: 1.3em;
            line-height: 1.6;
            text-align: center;
            margin: 0;
            position: relative;
            z-index: 2;
            text-shadow: 1px 1px 0 #fff, -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff;
        }

        #postcard-image {
            position: absolute;
            top: 25px;
            right: 25px;
            width: 120px;
            height: auto;
            object-fit: contain;
            transform: rotate(10deg);
            border: 2px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 1;
        }

        #envelope-wrapper.open #envelope {
            transform: rotateY(-180deg);
        }

        #envelope-wrapper.open .envelope-face {
            opacity: 0;
        }

        #envelope-wrapper.open #letter {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            z-index: 25;
        }
        
        #emoji-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            font-size: 2em;
            animation: moveAndFade 6s linear forwards;
            pointer-events: none;
        }
        
        .floating-image {
            position: absolute;
            width: 75px;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            animation: moveAndFadeImage 6s linear forwards;
            pointer-events: none;
            opacity: 0.8;
        }

        @keyframes moveAndFade {
            0% {
                transform: translate(0, 0) scale(1);
            }
            100% {
                transform: translate(var(--final-x), var(--final-y)) scale(0.5);
            }
        }
        
        @keyframes moveAndFadeImage {
            0% {
                transform: translate(0, 0) scale(1);
            }
            100% {
                transform: translate(var(--final-x), var(--final-y)) scale(0.7);
            }
        }
    </style>
</head>
<body>
    <div id="envelope-wrapper">
        <div id="envelope">
            <div class="envelope-face envelope-front">
                ‚ù§Ô∏è Para Angie ‚ù§Ô∏è
            </div>
            <div class="envelope-face envelope-back">
            </div>
            <div id="letter">
                <img id="postcard-image" src="IMG-20250718-WA0021.jpg" alt="Foto de la carta">
                <p>
                    Amada m√≠a.<br>
                    Cada d√≠a a tu lado es una aventura que no cambiar√≠a por nada en el mundo.<br>
                    Eres mi luz, mi alegr√≠a, mi todo.<br>
                    Te amo con cada fibra de mi ser, hoy y siempre.<br><br>
                    te pienso cada d√≠a y cada noche, al dormir te sue√±o, al despertar te pienso,al mirar el solo salir entre las nubes te recuerdo y me pregunto si ya abriste tus ojitos lindos, si ya te levantaste, o si sigues acostada cobijada durmiendo con esa carita tan tierna, si t√∫ respiraci√≥n al dormir sigue el mismo ritmo, si est√°s en paz, si dormiste bien, me preocupa el hecho de que un ruido te haya despertado, que el peluche que abrazaste haya sido suficiente para darte calma, te amo tanto mi amor de mi vida.
<br>
                    Con todo mi cari√±o,<br>
                    Tu siempre tuyo: Jos√©<br>
                </p>
            </div>
        </div>
    </div>
    
    <div id="emoji-container"></div>

    <script>
        const envelopeWrapper = document.getElementById('envelope-wrapper');
        const emojiContainer = document.getElementById('emoji-container');
        
        const emojis = ['‚ô•Ô∏è', '‚ù§Ô∏è', '‚ù£Ô∏è', '‚ù§Ô∏è‚Äçü©π', 'üåπ', 'üíï', 'üíû', 'üíì', 'üíó', 'üíñ', 'üíù', 'üíò', 'ü©∑', 'üíå'];
        const floatingImages = ['IMG-20250718-WA0021.jpg'];

        let heartInterval;
        let imageInterval;

        envelopeWrapper.addEventListener('click', () => {
            envelopeWrapper.classList.toggle('open');
            if (envelopeWrapper.classList.contains('open')) {
                startAnimations();
            } else {
                stopAnimations();
            }
        });

        function startAnimations() {
            if (heartInterval) clearInterval(heartInterval);
            if (imageInterval) clearInterval(imageInterval);

            heartInterval = setInterval(() => {
                createEmoji();
            }, 100);

            imageInterval = setInterval(() => {
                createFloatingImage();
            }, 500);
        }
        
        function stopAnimations() {
            clearInterval(heartInterval);
            clearInterval(imageInterval);
            document.querySelectorAll('.heart').forEach(el => el.remove());
            document.querySelectorAll('.floating-image').forEach(el => el.remove());
        }

        function createEmoji() {
            const emoji = document.createElement('span');
            emoji.classList.add('heart');
            
            const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.innerHTML = randomEmoji;
            
            const side = Math.floor(Math.random() * 4);
            let startX, startY;

            switch(side) {
                case 0:
                    startX = Math.random() * window.innerWidth;
                    startY = -50;
                    break;
                case 1:
                    startX = window.innerWidth + 50;
                    startY = Math.random() * window.innerHeight;
                    break;
                case 2:
                    startX = Math.random() * window.innerWidth;
                    startY = window.innerHeight + 50;
                    break;
                case 3:
                    startX = -50;
                    startY = Math.random() * window.innerHeight;
                    break;
            }

            emoji.style.left = `${startX}px`;
            emoji.style.top = `${startY}px`;
            
            const finalX = Math.random() * window.innerWidth;
            const finalY = Math.random() * window.innerHeight;

            emoji.style.setProperty('--final-x', `${finalX - startX}px`);
            emoji.style.setProperty('--final-y', `${finalY - startY}px`);

            emojiContainer.appendChild(emoji);

            setTimeout(() => {
                emoji.remove();
            }, 6000);
        }

        function createFloatingImage() {
            const img = document.createElement('img');
            img.classList.add('floating-image');
            
            const randomImageSrc = floatingImages[Math.floor(Math.random() * floatingImages.length)];
            img.src = randomImageSrc;
            
            const side = Math.floor(Math.random() * 4);
            let startX, startY;

            switch(side) {
                case 0:
                    startX = Math.random() * window.innerWidth;
                    startY = -100;
                    break;
                case 1:
                    startX = window.innerWidth + 100;
                    startY = Math.random() * window.innerHeight;
                    break;
                case 2:
                    startX = Math.random() * window.innerWidth;
                    startY = window.innerHeight + 100;
                    break;
                case 3:
                    startX = -100;
                    startY = Math.random() * window.innerHeight;
                    break;
            }

            img.style.left = `${startX}px`;
            img.style.top = `${startY}px`;
            
            const finalX = Math.random() * window.innerWidth;
            const finalY = Math.random() * window.innerHeight;

            img.style.setProperty('--final-x', `${finalX - startX}px`);
            img.style.setProperty('--final-y', `${finalY - startY}px`);

            emojiContainer.appendChild(img);

            setTimeout(() => {
                img.remove();
            }, 6000);
        }
    </script>
</body>
</html>
